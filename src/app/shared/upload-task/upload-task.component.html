<div *ngIf="percentage | async as pct">
    <mat-progress-bar mode="determinate" [value]="pct"></mat-progress-bar>
    {{ pct | number }}%
</div>
  
  
  
<div *ngIf="snapshot | async as snap">

  {{ snap.bytesTransferred }} of {{ snap.totalBytes }} bytes

  <div *ngIf="controllable">
    <button (click)="task.pause()" [disabled]="!isActive(snap)">Pause</button>
    <button (click)="task.cancel()" [disabled]="!isActive(snap)">Cancel</button>
    <button (click)="task.resume()" [disabled]="!(snap?.state === 'paused')">Resume</button>
  </div>
</div>